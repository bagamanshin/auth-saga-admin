# React Admin Panel

## Реализованный функционал

### Ленивая подргузка
- Lazy loading для компонентов
- Lazy loading для redux-модулей

### Аутентификация
- Страница входа с формой авторизации
- Управление токенами (хранение в cookies): обновление, mutex-блокировка при гонке запросов
- Автоматическое переотправление запросов при 401
- Protected routes с проверкой авторизации
- Логаут пользователя

### Управление постами
- Список постов в виде таблицы
- Создание поста
- Редактирование поста
- Удаление поста

### Управление авторами
- Список авторов в виде таблицы
- Создание автора
- Редактирование автора
- Удаление автора

### Управление тегами
- Список тегов в виде таблицы
- Создание тега
- Редактирование тега
- Удаление тега

### Архитектура
- **Feature-Sliced Design (FSD)** методология
- Redux + Redux-Saga для управления состоянием
- React-Router-Dom v5 для маршрутизации
- Error Boundary для обработки ошибок
- Async Module Provider для ленивой загрузки redux-модулей

### UI компоненты
- Ant Design v4 компоненты
- Макеты для аутентифицированных и неаутентифицированных пользователей
---

## Развертывание

### Development

1. Установить зависимости:
```bash
npm install
```

2. Запустить dev сервер:
```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`

### Production

#### Локально

1. Собрать приложение:
```bash
npm run build
```

2. Просмотреть prod сборку:
```bash
npm run preview
```

#### Docker

1. Собрать Docker образ:
```bash
docker build -t admin-panel .
```

2. Запустить контейнер:
```bash
docker run -p 3000:80 admin-panel
```

Приложение будет доступно по адресу `http://localhost:3000`

Или запустить с помощью `docker-compose` (порт хоста по-прежнему 3000):

1. Собрать и запустить сервис:
```bash
docker compose up --build -d
```

2. Остановить и удалить контейнеры:
```bash
docker compose down
```

**Dockerfile** использует multi-stage build:
- **Этап 1:** Node.js для сборки приложения
- **Этап 2:** Nginx для сервирования статических файлов
- Custom nginx конфиг находится в `nginx/default.conf`

---

## Скрипты из package.json

| Скрипт | Описание |
|--------|---------|
| `npm run dev` | Запускает dev сервер с Vite (hot reload на localhost:5173) |
| `npm run build` | Компилирует TypeScript + собирает оптимизированную prod сборку |
| `npm run lint` | Запускает ESLint с автоматическим исправлением ошибок |
| `npm run typecheck` | Проверяет тип с помощью TypeScript компилятора |
| `npm run preview` | Локально просматривает prod сборку, перед запуском нужно инициировать сборку (`npm run build`) |
